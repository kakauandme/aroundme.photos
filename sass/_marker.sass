.marker
	position: absolute
	width: 100vmin
	height: 100vmin
	+breakpoint(kitten)
		width: $marker-size
		height: $marker-size
	cursor: pointer
	perspective: 1000
	backface-visibility: hidden
	transform-style: preserve-3d
	transform: scale(0.2)
	outline: 1em solid rgba(255,255,255, 0.75)
	z-index: $z-marker
	visibility: hidden
	user-select: none
	transition: 
		property: transform	
		timing-function: ease-out
		duration: $transition
	+breakpoint(onlymouse)
		transition-property: all	
	&.loaded
		visibility: visible
	&.flyin
		animation: 
			fill-mode: both
		&:nth-child(4n+1)
			animation: 
				name: bounceInDown

		&:nth-child(4n+2)
			animation: 
				name: bounceInUp

		&:nth-child(4n+3)
			animation: 
				name: bounceInLeft

		&:nth-child(4n+4)
			animation: 
				name: bounceInRight		

		&:nth-child(3n+1)
			animation:
				duration: 1000ms
				delay: 300ms

		&:nth-child(3n+2)
			animation: 
				duration: 1400ms
				delay: 100ms

		&:nth-child(3n+3)
			animation:
				duration: 600ms
				delay: 800ms


	img
		width: 100%
		height: 100%	

	.overlay, .likes, hr, .author, .info
		display: none
	&:hover
		transform: scale($scale * 1.1)
		z-index: $z-marker + 1

	&.zoom
		
		outline-width: 0
		z-index: $z-marker + 2	
		.overlay
			display: block
			border-radius: 0.2em
			border: 1em solid rgba(255,255,255, 0.25)
			box-sizing: border-box
			position: absolute
			top: 0
			left: 0
			width: 100%
			height: 100%
			text-align: center
			font:
				family: L,  sans-serif
			padding: 0 1em
			+breakpoint(onlymouse)
				overflow: hidden
			.info
				display: block
				bottom: 1rem
				left: 1rem
				width: 1.7rem
				height: 1.7rem
				+breakpoint(onlymouse)
					box-shadow: 0 0 4px rgba(0,0,0,.14),0 0px 8px rgba(0,0,0,.28)  
				+breakpoint(kitten)
					bottom: auto
					top: -1.7em
					left: -1.7em
					width: 1.7em
					height: 1.7em
				position: absolute				
				//border: 0.125em solid #fff
				//box-sizing: border-box
				
				border-radius: 50%
				background:
					color: $green
					image: url(../img/info.png)
					size: cover
					position: center center
				transition: all $transition ease
				&.close
					transform: rotate(135deg)
					background:
						color: $purple
						image: url(../img/close.png)

		img
			border-radius: 0.2em
			//transition: all $transition ease
	&.zoomed
		transform: scale(1)	

	&.detailed				
		img			
			filter: url("data:image/svg+xml;utf8,<svg height=\'0\' xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'darkerblur\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/><feComponentTransfer><feFuncR type=\'linear\' slope=\'0.5\'/><feFuncG type=\'linear\'  slope=\'0.5\' /><feFuncB type=\'linear\'  slope=\'0.5\' /></feComponentTransfer></filter></svg>#darkerblur")
			//filter: url("data:image/svg+xml;utf8,<svg height=\'0\' xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'darkerblur\'><feGaussianBlur in=\'SourceGraphic\' stdDeviation=\'2\'/><feComponentTransfer><feFuncR type=\'linear\' slope=\'0.25\'/><feFuncG type=\'linear\'  slope=\'0.25\' /><feFuncB type=\'linear\'  slope=\'0.25\' /></feComponentTransfer></filter></svg>#darkerblur")
			//filter: blur(2px) brightness(0.75)
			filter: grayscale(1) brightness(0.5)
		.likes, hr, .author
			
			display: block
			animation:
				name: jelly
				duration: 1000ms
				fill-mode: both


		.likes
			+breakpoint(onlymouse)
				font-size: 25vmin
			&:after
				content: ""
				width: 0.5em
				height: 0.5em
				background:
					image: url(../img/heart.svg)
					position: center center
					size: cover
				line-height: 0
				vertical-align: super
				display: inline-block
		hr
			border-width: 0px
			border-color: rgba(255,255,255, 0.75)
			border-bottom-width: 1px
			margin: 0 auto 0.5em
		.author
			color: white
			margin: 0
			a
				word-break: break-word
