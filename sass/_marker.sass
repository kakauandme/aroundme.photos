.marker
	position: absolute
	width: $marker-size
	height: $marker-size
	overflow: hidden
	cursor: pointer
	perspective: 1000
	backface-visibility: hidden
	border-radius: 0.2em
	transform: scale(0.2)
	outline: 1em solid rgba(255,255,255, 0.75)
	z-index: $z-marker
	visibility: hidden
	&.loaded
		visibility: visible
	&.flyin

		&:nth-child(4n+1)
			animation: 
				name: bounceInDown
				duration: $transition*3
				fill-mode: both
		&:nth-child(4n+2)
			animation: 
				name: bounceInUp
				duration: $transition*3
				fill-mode: both
		&:nth-child(4n+3)
			animation: 
				name: bounceInLeft
				duration: $transition*3
				fill-mode: both
		&:nth-child(4n+4)
			animation: 
				name: bounceInRight
				duration: $transition*3
				fill-mode: both
	img
		width: 100%
	.overlay, .likes, hr, .author	
		display: none
	&:hover
		animation: 
			name: pulse
			duration: $transition*3
			fill-mode: both
		z-index: $z-marker + 1
	&.zoomed
		outline-width: 0
		//box-shadow: 0 0 1em rgba(0,0,0,0.75)
		animation: 
			name: bounceIn
			duration: $transition*3
			fill-mode: both
		z-index: $z-marker + 2
		.overlay
			display: block
			border: 1em solid rgba(255,255,255, 0.25)
			box-sizing: border-box
			position: absolute
			top: 0
			left: 0
			width: 100%
			height: 100%
			text-align: center
			font:
				family: L,  sans-serif
			padding: 0 1em
		img
			outline: 1px solid white
			transition: all $transition ease
		.likes, hr, .author
			display: block
			opacity: 0
			transition: opacity $transition ease
		.likes
			&:after
				content: ""
				width: 0.5em
				height: 0.5em
				background:
					image: url(../img/heart.svg)
					position: center center
					size: cover
				line-height: 0
				vertical-align: super
				display: inline-block
		hr
			border-width: 0px
			border-color: rgba(255,255,255, 0.75)
			border-bottom-width: 1px
			margin: 0 auto
		.author
			color: white
			padding: 1em 0
			a
				word-break: break-word
		&:hover
			img
				filter: url("data:image/svg+xml;utf8,<svg height=\'0\' xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'darkerblur\'><feGaussianBlur in=\'SourceGraphic\' stdDeviation=\'2\'/><feComponentTransfer><feFuncR type=\'linear\' slope=\'0.25\'/><feFuncG type=\'linear\'  slope=\'0.25\' /><feFuncB type=\'linear\'  slope=\'0.25\' /></feComponentTransfer></filter></svg>#darkerblur")
				filter: blur(2px) brightness(0.75)
				
			.likes, hr, .author
				opacity: 1
